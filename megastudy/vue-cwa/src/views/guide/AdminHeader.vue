<!-- ๐น AdminHeader.vue: ๊ด๋ฆฌ์ ์๋จ ํค๋ ์ปดํฌ๋ํธ (์๋ฆผ ๋ฐ ๋ก๊ทธ์ธ ์๋ณด ํ์) -->

<template>
  <div class="main-header">
    <div class="header-noti" :class="{ fixed: isFixed }">
      <p><strong>DEV-ADMIN ๊ฐ๋ฐ ์๋ฒ ์๋๋ค.</strong></p>
    </div>
    <div class="header-login">
      <div>
        <img src="https://campus.megastudy.net/admin/image/icon01.png">
        <b>{{ userName }}({{ userRole }})๋ |</b> {{ loginTime }} ๋ก๊ทธ์ธ ํ์จ์ต๋๋ค.
      </div>
      <div>
        <button class="btn-logout"><span>๋ก๊ทธ์์</span></button>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: 'AdminHeader',
  props: {
    userName: String,
    userRole: String,
    loginTime: String
  },
  data() {
    return {
      isFixed: false
    }
  },
  mounted() {
    window.addEventListener("scroll", this.handleScroll);
  },
  beforeDestroy() {
    window.removeEventListener("scroll", this.handleScroll);
  },
  methods: {
    handleScroll() {
      const notiTop = this.$el.querySelector(".header-noti").offsetTop;
      this.isFixed = window.scrollY > notiTop;
    }
  }
}
</script>
