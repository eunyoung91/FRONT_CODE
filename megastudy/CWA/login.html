<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>

	<!-- <link rel="stylesheet" href="css/style.css"> -->
	<link rel="stylesheet" href="css/admin_style.css">

	<script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
	<script src="https://campus.megastudy.net/public/jquery/jquery-1.12.4.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
    
<div class="admin-container">
    <div class="admin-content login" id="app">
        <div class="main-header">
            <div class="header-noti"><p><strong>DEV-ADMIN 개발 서버 입니다.</strong></p></div>
        </div>

        <div class="login-content">
            <div class="login-logo">
                <img src="https://campus.megastudy.net/admin/image/admin_logo.png">
            </div>

            <div class="login-form">
                <img src="https://campus.megastudy.net/admin/image/intro_tit.png" alt="메가스터디학원 관리자 사이트 입니다.">

                <div class="login-main">
                    <div class="login-box">
                        <div>
                            <div>
                                <strong>아이디</strong>
                                <input name="userid" id="userid" type="text" size="37" class="input_login" tabindex="1" v-model="loginForm.userid">
                            </div>
                            <div>
                                <strong>비밀번호</strong>
                                <input name="passwd" id="passwd" type="password" size="37" class="input_login" v-model="loginForm.passwd" @keydown.enter="checkLogin">
                            </div>
                        </div>
                        <div>
                            <a href="javascript:void(0);" @click="checkLogin" class="btn-login">
                                <span>LOGIN</span>
                            </a>
                        </div>
                    </div>

                    <div class="login-save">
                        <div>
                            <input type="checkbox" name="SAVEID" id="checkbox" v-model="rememberId">
                        </div>
                        <div><b style="color:#3357a4;">ID 저장</b> [접속자 IP : ]</div>
                    </div>

                    <!-- 인증번호 입력 폼 -->
                    <div class="login-etc" v-if="showVerificationForm">
                        <div>
                            <strong>인증번호</strong>
                            <div>
                                <input type="text" name="admin_app" id="admin_app" maxlength="6" class="input_login" size="37" v-model="verificationCode" @keydown.enter="submitCode">
                            </div>
                            <div>
                                <a class="btn-01" @click="submitCode">인증</a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="login-noti">
                    <div>
                        <span>&bull;</span><b>로그인 관련 문의 :</b> 러셀학원사업본부 서비스기획팀
                        <div>
                            <a href="" class="link">[관리자 계정 신청 문서 다운로드]</a>
                        </div>
                    </div>
                    <div>
                        <span>&bull;</span>
                        <div>
                            <b>Tel :</b> 02-3489-8426  | <b>E-mail :</b> 최은영 ey123@megastudy.net
                        </div>
                    </div>
                    <div>
                        <img src="https://campus.megastudy.net/admin/image/copyright.png" width="357" height="10">
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

<script>
import axiosInstance from '@/axios';

new Vue({
  el: '.admin-container',
  data() {
    return {
      loginForm: {
        userid: '',
        passwd: '',
      },
      rememberId: false,
      showVerificationForm: false,
      verificationCode: '',
    };
  },
  mounted() {
    const storedId = localStorage.getItem('savedId');
    if (storedId) {
      this.loginForm.userid = storedId;
      this.rememberId = true;
    }
  },
  methods: {
    checkLogin() {
      if (!this.loginForm.userid) {
        alert('아이디를 입력하세요!');
        return;
      }
      if (!this.loginForm.passwd) {
        alert('비밀번호를 입력하세요!');
        return;
      }
      this.submitLoginForm();
    },
    submitLoginForm() {
      if (this.rememberId) {
        localStorage.setItem('savedId', this.loginForm.userid);
      } else {
        localStorage.removeItem('savedId');
      }

      axiosInstance
        .post('/api/perform-login', {
          userid: this.loginForm.userid,
          passwd: this.loginForm.passwd,
        })
        .then((response) => {
          if (response.data.length > 6) {
            alert(response.data);
            location.reload();
          } else {
            alert('인증번호가 발급되었습니다.');
            this.showVerificationForm = true;
            this.verificationCode = response.data;
          }
        })
        .catch((error) => {
          alert('Login failed: ' + error.response.data);
        });
    },
    submitCode() {
      axiosInstance
        .post('/api/login', {
          userid: this.loginForm.userid,
          passwd: this.loginForm.passwd,
          verificationCode: this.verificationCode,
        }, {withCredentials: true})
        .then((response) => {
          if (response.data.length > 7) {
            alert(response.data);
            location.reload();
          } else {
            window.location.href = '/campus-notice';
          }
        })
        .catch((error) => {
          alert('Login failed: ' + error.response.data);
        });
    },
  },
});

</script>

</body>
</html>









<div class="column-2">
    <div class="title-menu">
        <div class="title-main">
            <img src="https://campus.megastudy.net/admin/image/dot_icon03.png" alt="아이콘">
            <span>학원별 Q&A 현황</span>
        </div>
        <div>
            <a href="" class="btn-01 ">바로가기</a>
        </div>
    </div>
    <div class="table-area">
        <form @submit.prevent="">
            <table width="455" border="0" cellspacing="0" cellpadding="0" class="type01">
                <tbody><tr>
                  <th width="100">학원</th>
                  <th>건수</th>
                  <th width="100">학원</th>
                  <th>건수</th>
                  <th width="100">기숙학원</th>
                  <th class="brn">건수</th>
                </tr>				
                  
                <tr>
                  <td class="blue">전체</td>
                  <td><a href="/admin/campus/campus_online.asp?sdate=&amp;edate=&amp;keyfield=1&amp;keyword=&amp;GCode=&amp;reState=1&amp;siteGb=&amp;delYn=N">33건</a></td>
                  <!--송파재수-->
                  <td class="blue">송파 재수학원</td>
                  <td><a href="/admin/campus/campus_online.asp?sdate=&amp;edate=&amp;keyfield=1&amp;keyword=&amp;GCode=&amp;reState=1&amp;siteGb=&amp;delYn=N&amp;campuscodedetail=CD0276">0건</a></td>
                  <!--양지기숙-->
                  <td class="blue">최상위권 전문관</td>
                  <td class="brn"><a href="/admin/campus/campus_online.asp?sdate=&amp;edate=&amp;keyfield=1&amp;keyword=&amp;GCode=&amp;reState=1&amp;siteGb=&amp;delYn=N&amp;campuscodedetail=CD0220">3건</a></td>
                </tr>
                <tr>				
                  <!--강남재수-->
                  <td class="blue">강남 재수학원</td>
                  <td><a href="/admin/campus/campus_online.asp?sdate=&amp;edate=&amp;keyfield=1&amp;keyword=&amp;GCode=&amp;reState=1&amp;siteGb=&amp;delYn=N&amp;campuscodedetail=CD0206">9건</a></td>
                  <!--부천재수-->
                  <td class="blue">부천 재수학원</td>
                  <td><a href="/admin/campus/campus_online.asp?sdate=&amp;edate=&amp;keyfield=1&amp;keyword=&amp;GCode=&amp;reState=1&amp;siteGb=&amp;delYn=N&amp;campuscodedetail=CD0251">0건</a></td>
                  <!--서초기숙-->
                  <td class="blue">자연계 전문관</td>
                  <td class="brn"><a href="/admin/campus/campus_online.asp?sdate=&amp;edate=&amp;keyfield=1&amp;keyword=&amp;GCode=&amp;reState=1&amp;siteGb=&amp;delYn=N&amp;campuscodedetail=CD0243">0건</a></td>
                </tr>
                <tr>				
                  <!--서초재수-->
                  <td class="blue">서초 재수학원</td>
                  <td><a href="/admin/campus/campus_online.asp?sdate=&amp;edate=&amp;keyfield=1&amp;keyword=&amp;GCode=&amp;reState=1&amp;siteGb=&amp;delYn=N&amp;campuscodedetail=CD0208">4건</a></td>
                  <!--분당재수-->
                  <td class="blue">분당 재수학원</td>
                  <td><a href="/admin/campus/campus_online.asp?sdate=&amp;edate=&amp;keyfield=1&amp;keyword=&amp;GCode=&amp;reState=1&amp;siteGb=&amp;delYn=N&amp;campuscodedetail=CD0253">0건</a></td>
                  <td class="blue"></td><td class="brn"></td>
                </tr>
                <tr>				
                  <!--강북재수-->
                  <td class="blue">강북 재수학원</td>
                  <td><a href="/admin/campus/campus_online.asp?sdate=&amp;edate=&amp;keyfield=1&amp;keyword=&amp;GCode=&amp;reState=1&amp;siteGb=&amp;delYn=N&amp;campuscodedetail=CD0210">1건</a></td>
                  <!--일산재수-->
                  <td class="blue">일산 재수학원</td>
                  <td><a href="/admin/campus/campus_online.asp?sdate=&amp;edate=&amp;keyfield=1&amp;keyword=&amp;GCode=&amp;reState=1&amp;siteGb=&amp;delYn=N&amp;campuscodedetail=CD0255">1건</a></td>
                  <td class="blue"></td><td class="brn"></td>
                </tr> 
                <tr>				
                  <!--노량진재수-->
                  <td class="blue">노량진 재수학원</td>
                  <td><a href="/admin/campus/campus_online.asp?sdate=&amp;edate=&amp;keyfield=1&amp;keyword=&amp;GCode=&amp;reState=1&amp;siteGb=&amp;delYn=N&amp;campuscodedetail=CD0211">0건</a></td>
                  <!--평촌재수-->
                  <td class="blue">평촌 재수학원</td>
                  <td><a href="/admin/campus/campus_online.asp?sdate=&amp;edate=&amp;keyfield=1&amp;keyword=&amp;GCode=&amp;reState=1&amp;siteGb=&amp;delYn=N&amp;campuscodedetail=CD0217">0건</a></td>
                  <td class="blue"></td><td class="brn"></td>
                </tr> 
                <tr>				
                  <!--신촌재수-->
                  <td class="blue">신촌 재수학원</td>
                  <td><a href="/admin/campus/campus_online.asp?sdate=&amp;edate=&amp;keyfield=1&amp;keyword=&amp;GCode=&amp;reState=1&amp;siteGb=&amp;delYn=N&amp;campuscodedetail=CD0213">0건</a></td>
                  <!--성북재학-->
                  <td class="blue">성북 재학학원</td>
                  <td><a href="/admin/campus/campus_online.asp?sdate=&amp;edate=&amp;keyfield=1&amp;keyword=&amp;GCode=&amp;reState=1&amp;siteGb=&amp;delYn=N&amp;campuscodedetail=CD0214">6건</a></td>
                  <td class="blue"></td><td class="brn"></td>
                </tr> 
              </tbody></table>
        </form>
    </div>
</div>
<div class="column-2">
    <div class="title-menu">
        <div class="title-main">
            <img src="https://campus.megastudy.net/admin/image/dot_icon03.png" alt="아이콘">
            <span>최근 삭제된 Q&A</span>
        </div>
        <div>
            <a href="" class="btn-01 ">바로가기</a>
        </div>
    </div>
    <div class="table-area">
        <form @submit.prevent="">
            <table width="455" border="0" cellspacing="0" cellpadding="0" class="type01">
                <tbody><tr>
                <th width="100">구분</th>
                <th>내용</th>
                <th width="70" class="brn">날짜</th>
                </tr>
            <tr><td class="blue">신촌 재수학원</td><td><a href="/admin/campus/campus_online_view.asp?code=88802&amp;refer=%2Fadmin%2Fcampus%2Fcampus%5Fonline%2Easp">6모 신청</a></td><td class="brn">2025-04-04</td></tr><tr><td class="blue">신촌 재수학원</td><td><a href="/admin/campus/campus_online_view.asp?code=88801&amp;refer=%2Fadmin%2Fcampus%2Fcampus%5Fonline%2Easp">6모 신청</a></td><td class="brn">2025-04-04</td></tr><tr><td class="blue">신촌 재수학원</td><td><a href="/admin/campus/campus_online_view.asp?code=88797&amp;refer=%2Fadmin%2Fcampus%2Fcampus%5Fonline%2Easp">학원 입학 관련 문의</a></td><td class="brn">2025-04-03</td></tr><tr><td class="blue">신촌 재수학원</td><td><a href="/admin/campus/campus_online_view.asp?code=88787&amp;refer=%2Fadmin%2Fcampus%2Fcampus%5Fonline%2Easp">6모 신청</a></td><td class="brn">2025-03-31</td></tr><tr><td class="blue">서초 재수학원</td><td><a href="/admin/campus/campus_online_view.asp?code=88780&amp;refer=%2Fadmin%2Fcampus%2Fcampus%5Fonline%2Easp">자기주도반 문의드려요</a></td><td class="brn">2025-03-31</td></tr>
            </tbody></table>
        </form>
    </div>
</div>