function initNPlayerUI(o){var i=!1,a=!1;function c(e){return e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].pageX:e.pageX}function e(){o.setMute(!o.getMute())}function t(){o.setFullscreen(!o.getFullscreen())}function n(e){o.setCurrentPlaybackRate(e)}function u(e){jQuery(".control_text_status").text(e)}jQuery(".wrapper_foot a").click(function(e){e.preventDefault()}),jQuery(".wrapper_foot").each(function(){this.onselectstart=function(){return!1},this.unselectable="on",jQuery(this).css("user-select","none"),jQuery(this).css("-o-user-select","none"),jQuery(this).css("-moz-user-select","none"),jQuery(this).css("-khtml-user-select","none"),jQuery(this).css("-webkit-user-select","none")}),jQuery(".btn_play").click(function(){o.getPlayState()==NPlayer.PlayState.Playing?o.pause():o.play()}),jQuery(".btn_sound").click(e),jQuery(".btn_soundMute").click(e),jQuery(".btn_fullScr").click(t),jQuery(".btn_normalScr").click(t),jQuery(".btn_repeat").click(function(){o.setABRepeat(!o.getABRepeat())}),jQuery(".btn_seekPrev").click(function(){o.setFrameStep(parseInt(jQuery(".input_setSeekTime").val())),o.seek(o.getCurrentPlaybackTime()-o.getFrameStep(),0,0)}),jQuery(".btn_seekNext").click(function(){o.setFrameStep(parseInt(jQuery(".input_setSeekTime").val())),o.seek(o.getCurrentPlaybackTime()+o.getFrameStep(),0,0)}),jQuery(".btn_s06").click(function(){n(.6)}),jQuery(".btn_s07").click(function(){n(.7)}),jQuery(".btn_s08").click(function(){n(.8)}),jQuery(".btn_s09").click(function(){n(.9)}),jQuery(".btn_s10").click(function(){n(1)}),jQuery(".btn_s11").click(function(){n(1.1)}),jQuery(".btn_s12").click(function(){n(1.2)}),jQuery(".btn_s13").click(function(){n(1.3)}),jQuery(".btn_s14").click(function(){n(1.4)}),jQuery(".btn_s15").click(function(){n(1.5)}),jQuery(".btn_s16").click(function(){n(1.6)}),jQuery(".btn_s17").click(function(){n(1.7)}),jQuery(".btn_s18").click(function(){n(1.8)}),jQuery(".btn_s19").click(function(){n(1.9)}),jQuery(".btn_s20").click(function(){n(2)}),jQuery(".btn_s06_dot").click(function(){n(.6)}),jQuery(".btn_s07_dot").click(function(){n(.7)}),jQuery(".btn_s08_dot").click(function(){n(.8)}),jQuery(".btn_s09_dot").click(function(){n(.9)}),jQuery(".btn_s10_dot").click(function(){n(1)}),jQuery(".btn_s11_dot").click(function(){n(1.1)}),jQuery(".btn_s12_dot").click(function(){n(1.2)}),jQuery(".btn_s13_dot").click(function(){n(1.3)}),jQuery(".btn_s14_dot").click(function(){n(1.4)}),jQuery(".btn_s15_dot").click(function(){n(1.5)}),jQuery(".btn_s16_dot").click(function(){n(1.6)}),jQuery(".btn_s17_dot").click(function(){n(1.7)}),jQuery(".btn_s18_dot").click(function(){n(1.8)}),jQuery(".btn_s19_dot").click(function(){n(1.9)}),jQuery(".btn_s20_dot").click(function(){n(2)}),jQuery(document).bind("webkitfullscreenchange",npExitHandler),jQuery(".input_setSeekTime").blur(function(){var e=parseInt(jQuery(this).val());(e<0||isNaN(e))&&(e=1),jQuery(this).val(e),o.setFrameStep(e)}),jQuery(".track_back").bind("mousedown touchstart",function(e){var r=jQuery(this);function n(e){if(isNaN(o.getDuration()))return-1;var t=(c(e)-r.offset().left)/r.width()*o.getDuration(),n=o.getRepeatPointA(),u=o.getRepeatPointB();return-1!=n&&t<n&&(t=n),-1!=u&&u<t&&(t=u),t<0?t=0:t>o.getDuration()&&(t=o.getDuration()),t}function u(e){d(n(e)),e.preventDefault()}o.getSeekable()&&(i=!0,d(n(e)),jQuery(document).bind("mouseup touchend",function e(t){i=!1,o.setCurrentPlaybackTime(n(t)),jQuery(document).unbind("mousemove touchmove",u),jQuery(document).unbind("mouseup touchend",e)}),jQuery(document).bind("mousemove touchmove",u)),e.preventDefault()}),jQuery(".track_repeatBtnA").bind("mousedown touchstart",function(e){var n=jQuery(this).parent();function u(e){var t=(c(e)-n.offset().left)/n.width()*o.getDuration();return t<0?t=0:t>o.getRepeatPointB()&&(t=o.getRepeatPointB()),t}function t(e){var t=e/o.getDuration()*100+"%",n=(o.getRepeatPointB()-e)/o.getDuration()*100+"%";jQuery(".track_repeatBtnA").css("left",t),jQuery(".track_repeat").css("left",t).css("width",n),jQuery("#text_currentTime").text(j(e))}function r(e){t(u(e)),e.preventDefault()}a=!0,t(u(e)),jQuery(document).bind("mouseup touchend",function e(t){a=!1,o.setRepeatPointA(u(t)),_(),jQuery(document).unbind("mousemove touchmove",r),jQuery(document).unbind("mouseup touchend",e)}),jQuery(document).bind("mousemove touchmove",r),e.preventDefault(),e.stopPropagation()}),jQuery(".track_repeatBtnB").bind("mousedown touchstart",function(e){var n=jQuery(this).parent();function u(e){var t=(c(e)-n.offset().left)/n.width()*o.getDuration();return t<o.getRepeatPointA()?t=o.getRepeatPointA():t>o.getDuration()&&(t=o.getDuration()),t}function t(e){var t=e/o.getDuration()*100+"%",n=(e-o.getRepeatPointA())/o.getDuration()*100+"%";jQuery(".track_repeatBtnB").css("left",t),jQuery(".track_repeat").css("width",n),jQuery("#text_currentTime").text(j(e))}function r(e){t(u(e)),e.preventDefault()}a=!0,t(u(e)),jQuery(document).bind("mouseup touchend",function e(t){a=!1,o.setRepeatPointB(u(t)),_(),jQuery(document).unbind("mousemove touchmove",r),jQuery(document).unbind("mouseup touchend",e)}),jQuery(document).bind("mousemove touchmove",r),e.preventDefault(),e.stopPropagation()}),jQuery(".sound_track_back").bind("mousedown touchstart",function(e){var n=jQuery(this);function u(e){var t=(c(e)-n.offset().left)/n.width();return t<0?t=0:1<t&&(t=1),t}function r(e){o.setVolume(u(e)),e.preventDefault()}o.setVolume(u(e)),jQuery(document).bind("mouseup touchend",function e(t){o.setVolume(u(t)),jQuery(document).unbind("mousemove touchmove",r),jQuery(document).unbind("mouseup touchend",e)}),jQuery(document).bind("mousemove touchmove",r),e.preventDefault()}),o.bindEvent("OpenStateChanged",function(e){switch(e){case NPlayer.OpenState.Opened:m(o.getVolume()),b(o.getMute()),y(o.getCurrentPlaybackRate()),p(o.getDuration()),o.isControlBox()||o.setFrameStep(Number(jQuery(".input_setSeekTime").val()));break;case NPlayer.OpenState.Closed:d(0),p(0)}u(function(e){switch(e){case NPlayer.OpenState.Opening:return"Opening";case NPlayer.OpenState.Opened:return"Opened";case NPlayer.OpenState.Closing:return"Closing";case NPlayer.OpenState.Closed:return"Closed"}}(e))}),o.bindEvent("PlayStateChanged",function(e){switch(e){case NPlayer.PlayState.Playing:jQuery(".control_play > .btn_play").removeClass("btn_play").addClass("btn_pause");break;case NPlayer.PlayState.Paused:jQuery(".control_play > .btn_pause").removeClass("btn_pause").addClass("btn_play");break;case NPlayer.PlayState.Stopped:jQuery(".control_play > .btn_pause").removeClass("btn_pause").addClass("btn_play"),d(0<=o.getBeginPlaybackPosition()?o.getBeginPlaybackPosition():0)}u(f(e))}),o.bindEvent("BufferingData",function(e){u(e?"Buffering":f(o.getPlayState()))}),o.bindEvent("RateChanged",y),o.bindEvent("VolumeChanged",m),o.bindEvent("MuteChanged",b),o.bindEvent("RepeatPointAChanged",_),o.bindEvent("RepeatPointBChanged",_),o.bindEvent("PlaybackRangeChanged",function(e,t){if(0<=e&&0<=t){var n=e/o.getDuration()*100+"%",u=(t-e)/o.getDuration()*100+"%";jQuery(".track_range").css("left",n).css("width",u).show()}else jQuery(".track_range").hide()}),o.bindEvent("FrameStepChanged",function(e){jQuery(".input_setSeekTime").val(e)}),o.bindEvent("UpdateTime",function(e){i||d(e)}),o.bindEvent("DurationChanged",function(){p(o.getDuration())}),o.bindEvent("Macfullscreenchange",function(e){"true"==e?nplayerOnFullscreen():nplayerExitFullscreen()}),o.onGetControlBoxHeight=function(){return parseInt(jQuery(".wrapper_foot").height())},m(o.getVolume()),b(o.getMute()),y(o.getCurrentPlaybackRate()),p(o.getDuration());var r=jQuery(".track_seekBtn").get(0),s=jQuery(".track_current").get(0),l=jQuery("#text_currentTime");function d(e){if(!(e<0)){var t=o.getDuration(),n=(0<t?e/t*100:0)+"%";r.style.left=n,s.style.width=n,a||l.text(j(e))}}function p(e){e==1/0?(jQuery("#text_divider").hide(),jQuery("#text_duration").text("")):jQuery("#text_duration").text(j(e))}function y(e){for(var t=.5;t<=2.1;t+=.1){var n=t.toFixed(1).replace(".","");jQuery(".btn_s"+n+"_cur").removeClass("btn_s"+n+"_cur").addClass("btn_s"+n),jQuery(".btn_s"+n+"_dot_cur").removeClass("btn_s"+n+"_dot_cur").addClass("btn_s"+n+"_dot")}n=e.toFixed(1).replace(".","");jQuery(".btn_s"+n).removeClass("btn_s"+n).addClass("btn_s"+n+"_cur"),jQuery(".btn_s"+n+"_dot").removeClass("btn_s"+n+"_dot").addClass("btn_s"+n+"_dot_cur")}function m(e){e<=0?jQuery(".sound_btn > .btn_sound").removeClass("btn_sound").addClass("btn_soundMute"):jQuery(".sound_btn > .btn_soundMute").removeClass("btn_soundMute").addClass("btn_sound"),jQuery(".sound_track_cur").css("width",100*e+"%")}function b(e){o.getVolume()<=0&&(e=!0),e?(jQuery(".sound_btn > .btn_sound").removeClass("btn_sound").addClass("btn_soundMute"),jQuery(".sound_track_cur").css("width","0%")):(jQuery(".sound_btn > .btn_soundMute").removeClass("btn_soundMute").addClass("btn_sound"),jQuery(".sound_track_cur").css("width",100*o.getVolume()+"%"))}function _(e){if(o.getABRepeat()){jQuery(".control_repeat > .btn_repeat").removeClass("btn_repeat").addClass("btn_repeatHover");var t=o.getRepeatPointA()/o.getDuration()*100+"%",n=o.getRepeatPointB()/o.getDuration()*100+"%",u=(o.getRepeatPointB()-o.getRepeatPointA())/o.getDuration()*100+"%";jQuery(".track_repeatBtnA").css("left",t).show(),jQuery(".track_repeatBtnB").css("left",n).show(),jQuery(".track_repeat").css("left",t).css("width",u).show()}else jQuery(".control_repeat > .btn_repeatHover").removeClass("btn_repeatHover").addClass("btn_repeat"),jQuery(".track_repeatBtnA").hide(),jQuery(".track_repeatBtnB").hide(),jQuery(".track_repeat").hide()}function f(e){switch(e){case NPlayer.PlayState.Playing:return"Playing";case NPlayer.PlayState.Paused:return"Paused";case NPlayer.PlayState.Stopped:return"Stopped"}}function j(e){e||(e=0);var t=parseInt(e)%60,n=parseInt(e/60)%60;function u(e){return e<10?"0"+e:e}return[u(parseInt(e/60/60)),u(n),u(t)].join(":")}}function nplayerOnFullscreen(){0!=jQuery("#pinned").length&&jQuery("#pinned").attr("checked")||$(".wrapper_foot").delay(3e3).animate({opacity:"0"},10),$(".wrapper_foot").bind("mouseenter",function(){$(this).stop(!0,!0).css("opacity","1")}).bind("mouseleave",function(){0!=jQuery("#pinned").length&&jQuery("#pinned").attr("checked")||$(this).delay(3e3).animate({opacity:"0"},10)}),$("a.btn_fullScr").removeClass("btn_fullScr").addClass("btn_normalScr"),$("body").addClass("nplayer-fullscreen"),hideContextMenu()}function nplayerExitFullscreen(){$(".wrapper_foot").stop(!0,!0).css("opacity","1"),$(".wrapper_foot").unbind("mouseenter").unbind("mouseleave"),$("a.btn_normalScr").removeClass("btn_normalScr").addClass("btn_fullScr"),$("body").removeClass("nplayer-fullscreen"),hideContextMenu()}function npExitHandler(){var e=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||safari.pushNotification).toString();document.webkitIsFullScreen&&e?$(".input_setSeekTime").css({"pointer-events":"none",opacity:"0.7"}):$(".input_setSeekTime").css({"pointer-events":"",opacity:""})}function showContextMenu(e){if(player){g__init_contextmenu||initContextMenu(e),$(".np-menuitem").removeClass("show"),player.getPlayState()==NPlayer.PlayState.Paused?$(".np-menuitem-btnplay").addClass("show"):player.getPlayState()==NPlayer.PlayState.Playing&&$(".np-menuitem-btnpause").addClass("show"),player.getFullscreen()?$(".np-menuitem-btnnormalscreen").addClass("show"):$(".np-menuitem-btnfullscreen").addClass("show"),0<player.getSubtitleCount()&&(0==player.getSubtitleVisible()?$(".np-menuitem-subtitle-show").addClass("show"):$(".np-menuitem-subtitle-hide").addClass("show")),document.getElementsByTagName("video")[0].webkitSupportsPresentationMode&&"function"==typeof document.getElementsByTagName("video")[0].webkitSetPresentationMode&&("inline"==document.getElementsByTagName("video")[0].webkitPresentationMode?$(".np-menuitem-pipshow").addClass("show"):$(".np-menuitem-piphide").addClass("show")),$(".np-menuitem.np-menuitem-custom").addClass("show"),$(".np-vheight").height(32*$(".np-menuitem.show").length+16);var t=e.pageY+5,n=e.pageX;return $(".np-contextmenu[data-enable='true']").css({top:t+"px",left:n+"px"}).fadeIn(80),!1}}function hideContextMenu(){$(".np-contextmenu").hide()}jQuery(document).bind("contextmenu",function(e){e.preventDefault()}),jQuery(document).bind("click",function(e){3!=e.which&&hideContextMenu()}),jQuery(document).bind("webkitfullscreenchange",function(){document.webkitIsFullScreen?nplayerOnFullscreen():nplayerExitFullscreen()}),jQuery(document).bind("mozfullscreenchange",function(){document.mozFullScreen?nplayerOnFullscreen():nplayerExitFullscreen()}),jQuery(document).bind("MSFullscreenChange",function(){document.msFullscreenElement?nplayerOnFullscreen():nplayerExitFullscreen()});var g__init_contextmenu=!1;function initContextMenu(e){g__init_contextmenu=!0,$(".np-menuitem").bind("click",function(){hideContextMenu()}),$(".np-menuitem-btnplay").bind("click",function(){player.play()}),$(".np-menuitem-btnpause").bind("click",function(){player.pause()}),$(".np-menuitem-btnfullscreen").bind("click",function(){player.setFullscreen(!0)}),$(".np-menuitem-btnnormalscreen").bind("click",function(){player.setFullscreen(!1)}),$(".np-menuitem-subtitle-show").bind("click",function(){player.setSubtitleVisible(!0)}),$(".np-menuitem-subtitle-hide").bind("click",function(){player.setSubtitleVisible(!1)}),$(".np-menuitem-pipshow").bind("click",function(){document.getElementsByTagName("video")[0].webkitSetPresentationMode("picture-in-picture")}),$(".np-menuitem-piphide").bind("click",function(){document.getElementsByTagName("video")[0].webkitSetPresentationMode("inline")})}var g__fullscreen_layout_id__="maincontent";