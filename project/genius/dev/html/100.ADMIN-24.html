<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<title>에듀윌 그룹웨어(Genius)</title>

<!-- favicon files -->
<link rel="Bookmark Icon" href="//img.eduwill.net/Img2/Common/favicon/favicon.ico" />
<link rel="icon" href="//img.eduwill.net/Img2/Common/favicon/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="//img.eduwill.net/Img2/Common/favicon/favicon.ico" type="image/x-icon" />

<!-- css files -->
<!-- layout css -->
<link rel="stylesheet" href="https://img.eduwill.net/resources/kpi/dev/plugins/bootstrap/css/bootstrap.min.css" />
<link rel="stylesheet" href="https://img.eduwill.net/resources/kpi/dev/css/essentials.css" />
<link rel="stylesheet" href="css/genius.css" />


<!-- javascript files -->
<script type="text/javascript">var plugin_path = '//img.eduwill.net/resources/kpi/live/plugins/';</script>
<script src="//img.eduwill.net/resources/kpi/live/plugins/jquery/jquery-2.2.3.min.js" type="text/javascript"></script>
<script src="//img.eduwill.net/resources/kpi/live/plugins/jquery/jquery-ui-1.12.1.min.js" type="text/javascript"></script>
<script src="//img.eduwill.net/resources/kpi/live/js/jquery.easyui.min.js" type="text/javascript" ></script>
<script src="//img.eduwill.net/resources/kpi/live/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
<script src="//img.eduwill.net/resources/kpi/live/plugins/bootstrap.datepicker/js/bootstrap-datepicker.min.js"></script>
<script src="//img.eduwill.net/resources/kpi/live/js/ajaxUtil.js" type="text/javascript"></script>

<!-- validation -->
<script src="//img.eduwill.net/resources/kpi/live/plugins/form.validate/jquery.form.min.js" type="text/javascript"></script>
<script src="//img.eduwill.net/resources/kpi/live/plugins/form.validate/jquery.validation.min.js" type="text/javascript"></script>

<script src="//img.eduwill.net/resources/kpi/live/js/custom.js?v=5a2d148c09b00" type="text/javascript"></script>
<script src="//img.eduwill.net/resources/kpi/live/js/common.js?v=5ad59eb6c6f40" type="text/javascript"></script>

<!-- 토스트메시지 -->
<link href="//img.eduwill.net/resources/kpi/live/plugins/toastr/toastr.min.css" rel="stylesheet" type="text/css" />
<script src="//img.eduwill.net/resources/kpi/live/plugins/toastr/toastr.min.js" type="text/javascript"></script>

<!-- 컨펌모달 -->
<link rel="stylesheet" href="//img.eduwill.net/resources/kpi/live/plugins/jquery-confirm/jquery-confirm.min.css">
<script src="//img.eduwill.net/resources/kpi/live/plugins/jquery-confirm/jquery-confirm.min.js"></script>

<!-- print -->
<script type="text/javascript" src="//img.eduwill.net/resources/kpi/live/plugins/printThis/printThis.js"></script>

<!-- editable -->
<script type="text/javascript" src="//img.eduwill.net/resources/kpi/live/plugins/bootstrap-editable.min.js"></script>

<!-- Fullcalendar -->
<link rel="stylesheet" href="//img.eduwill.net/resources/kpi/live/plugins/fullcalendar/fullcalendar.min.css" />
<link rel="stylesheet" href="//img.eduwill.net/resources/kpi/live/plugins/fullcalendar/fullcalendar.print.css" media="print" />
<script src="//img.eduwill.net/resources/kpi/live/plugins/moment.min.js" type="text/javascript"></script>
<script src="//img.eduwill.net/resources/kpi/live/plugins/fullcalendar/fullcalendar.min.js" type="text/javascript"></script>
<script src="//img.eduwill.net/resources/kpi/live/plugins/fullcalendar/lang-all.js" type="text/javascript"></script>
<script src="//img.eduwill.net/resources/kpi/live/plugins/fullcalendar/gcal.js" type="text/javascript"></script>

<!-- CKEditor -->
<script src="//img.eduwill.net/resources/kpi/live/plugins/ckeditor/ckeditor_4.10.0_full/ckeditor.js"></script>
<script src="//img.eduwill.net/resources/kpi/live/plugins/ckeditor/ckeditor_4.10.0_full/adapters/jquery.js"></script>

<script type="text/javascript">
	function pagePrint(){
		$('#pagePrint').printThis();
	}

	$(document).ready(function() {
		/** Bootstrap Tooltip **/ 
		$("[data-toggle=tooltip]").tooltip();
	})

</script>

</head>

<body class="body-sub body-genius page-goal-manage">

<!-- wrapper -->
<div id="wrapper" class="clearfix">

	<!-- hd-wrap -->
    <section class="hd-wrap">
        <div class="hd-wrap-inner">
            <div class="logo">
                <a href="">지니어스</a>
            </div>
            <div class="gnb">
                <ul>
                    <li><a href="">전자결재</a></li>
                    <li><a href="">전사공지</a></li>
                    <li><a href="">업무요청</a></li>
                    <li><a href="">인사관리</a></li>
                    <li><a href="">지원관리</a></li>
                </ul>
            </div>
            <div class="comp-right">
                
                <div class="logout">
                    <button class="btn btn-g-link">로그아웃</button>
                </div>
                <div class="state">
                    <span onclick="$(this).next('.menu-tootip').fadeIn(100);"><i class="state-1"></i> 근무중</span>
                    <!--
                    <span><i class="state-2"></i> 자리비움</span>
                    <span><i class="state-3"></i> 로그오프</span>
                    -->
                    <div class="menu-tootip" style="display: none;" onclick="$(this).fadeOut(100);">
                        <div class="menu-tootip-inner">
                            <div class="link"><a href="#"><i class="state-1"></i> 근무중</a></div>
                            <div class="link"><a href="#"><i class="state-2"></i> 자리비움</a></div>
                            <div class="link"><a href="#"><i class="state-3"></i> 로그오프</a></div>
                        </div>
                    </div>
                </div> 
                <div class="organization">
                    <span><button class="btn btn-g-link btn-setting">관리자</button></span>
                    <span><button class="btn btn-g-link btn-person">조직도</button></span>
                </div>               
            </div>
        </div>
    </section>
    <div class="hd-wrap-expand" style="display: none;">
        <div class="hd-wrap-expand-inner">
            <div class="link">
                <a herf="">결재문서 작성</a>
                <a herf="">결재하기</a>
                <a herf="">수신함</a>
                <a herf="">매출/예산 계획 제출</a>
            </div>
            <div class="link">
                <a herf="">공지사항</a>
                <a herf="">에듀윌러 소식</a>
                <a herf="">에듀윌 스타</a>
                <a herf="">꿈의 직장</a>
            </div>
            <div class="link">
                <a herf="">마케팅</a>
                <a herf="">총무</a>
                <a herf="">IT</a>
                <a herf="">법무</a>
            </div>
            <div class="link">
                <a herf="">인사정보</a>
                <a herf="">평가</a>
                <a herf="">교육</a>
                <a herf="">자주 묻는 질문</a>
            </div>
            <div class="link">
                <a herf="">힐링큐브</a>
                <a herf="">E-스퀘어</a>
                <a herf="">차량배차</a>
                <a herf="">마음,쉼</a>
            </div>
        </div>
    </div>
    <!-- // hd-wrap -->

	<!-- aside -->
	<aside id="aside">
		<div class="aside-loaction">
			<strong>전사공지</strong>
			<button class="btn-collapse">접기</button>
		</div>
		<nav id="sideNav">
			<ul class="nav nav-list d1">
				<li class="d1 el_primary menu-open active">
					<a href="javascript:;" class="d1">
						<i class="main-icon fa fa-gears"></i>
						<span>공지사항</span>
					</a>
					<ul class="d2"><!-- 2depth -->
						<li class="d2 active">
							<span>업적/역량</span>
							<ul class="d3"><!-- 3depth -->
								<li class="d3 active">
									<a href="javascript:;" class="d3">전체공지
										<!-- <span class="label label-number">8</span> -->
									</a>
								</li>
								<li class="d3">
									<a href="javascript:;" class="d3">평가목표 관리</a>
								</li>
							</ul><!-- // 3depth -->
						</li>
					</ul><!-- // 2depth -->
				</li>
				<li class="d1 el_primary">
					<a href="javascript:;" class="d1">
						<i class="main-icon fa fa-balance-scale"></i>
						<span>에듀윌러 소식</span>
					</a>
					<ul class="d2"><!-- 2depth -->
						<li class="d2">
							<a href="javascript:;" class="d2">depth2</a>
						</li>
						<li class="d2">
							<a href="javascript:;" class="d2">depth2</a>
						</li>
					</ul>
				</li>
				<li class="d1 el_primary">
					<a href="javascript:;" class="d1">
						<i class="main-icon fa fa-pencil-square-o"></i>
						<span>에듀윌 스타</span>
					</a>
					<ul class="d2"><!-- 2depth -->
						<li class="d2">
							<a href="javascript:;" class="d2">depth2</a>
						</li>
						<li class="d2">
							<a href="javascript:;" class="d2">depth2</a>
						</li>
					</ul>
				</li>
				<li class="d1">
					<a href="javascript:;" class="d1">
						<i class="main-icon fa fa-table"></i>
						<span>꿈의직장</span></span>
					</a>
				</li>
			</ul>
		</nav>
	</aside>
	<div id="expand-wrap" style="display: none;">
		<button class="btn-expand">열기</button>
	</div>
	<!-- // aside -->

	<!-- middle -->	
	
	<section id="middle">
		
		<div id="content" class="padding-20">
			<div class="container section-search-form section-search-form-bg">
				<div class="middle-location">
					<a href="/" class="home">홈</a>
					<a href="#">인사관리자</a>
					<a href="#">인턴/시용평가</a>
					<a href="#">인턴평가 PT자료</a>
				</div>
				<div class="wrap">
					<form id="frm1" name="frm1" method="post" action="">		
						<input type="hidden" name="page" id="page" value="1">
						<input type="hidden" name="pageSize" id="pageSize" value="">		
						<input type="hidden" id="hperiodyn" name="hperiodyn" value="on">
						<input type="hidden" name="dept_idx" id="dept_idx" value="">
						
						<label class="checkbox">
							<input type="checkbox" id="periodyn" name="periodyn">
							<i></i> 기간선택
						</label>
					
						<input type="text" class="form-control datepicker" data-format="yyyy-mm-dd" data-lang="en" data-rtl="false" name="fromdt" id="fromdt" value="" autocomplete="off">
						<div class="pull-left margin-top-10 margin-left-10 margin-right-10">~</div>
						<input type="text" class="form-control datepicker" data-format="yyyy-mm-dd" data-lang="en" data-rtl="false" name="todt" id="todt" value="" autocomplete="off">
						<select class="form-control dept" id="dept_idx1" name="dept_idx1"><option value="">부서 선택</option><option value="213" data-rfval1="N">임원실</option><option value="54" data-rfval1="Y">CEO직속</option><option value="8" data-rfval1="Y">고객센터</option><option value="6" data-rfval1="Y">출판사업본부</option><option value="7" data-rfval1="Y">평생교육원</option><option value="11" data-rfval1="Y">학원총괄본부</option><option value="138" data-rfval1="Y">CM1본부</option><option value="231" data-rfval1="Y">CM2본부</option><option value="5" data-rfval1="Y">IT플랫폼본부</option><option value="169" data-rfval1="Y">IT서비스본부</option><option value="3" data-rfval1="Y">경영지원본부</option><option value="79" data-rfval1="Y">마케팅본부</option><option value="60" data-rfval1="N">사회공헌위원회</option><option value="211" data-rfval1="N">합격전략연구소</option></select>
						<select class="form-control dept" id="dept_idx2" name="dept_idx2">
							<option value="">실/팀 선택</option>
						</select>
						<select class="form-control dept" id="dept_idx3" name="dept_idx3">
							<option value="">팀 선택</option>
						</select>
						<input type="text" placeholder="이름을 입력하세요" class="text form-control" id="emp_name" name="emp_name" value="">
						<button type="button" class="btn btn-teal" id="btnSearch">조회</button>
					</form>
				</div>
			</div>
		
			<div class="section-manage pt-manage row">
				<div class="col-md-12 padding-left-0 padding-right-0" id="divPPTFileList">
		
		
		
		
		
		
		
		
		<script type="text/javascript">
			
			$(document).ready(function() {
				
				// 전체 선택 toggle
				$("#allCheck").on("click", function () {
					var status = $(this).is(":checked");
					
					$("input[name='selected_intn_idx']").each(function(i){
						$(this).prop("checked", status);
					});
				});
				
				// 일괄 다운로드
				$(".btnDownload").on("click", function() {
					fnc_ptFileDownloadForSelected();
				});
				
			});
			
			// 페이징
			function fnc_movePage(page) {
				$("#frm1 #page").val(page);
				fnc_getPPTFileList();
			}
			
			//PT 파일 다운로드
			function fnc_ptFileDownload(idx, emp_id) {		
				$("#frmFileDL input[name='intn_idx']").val(idx);
				$("#frmFileDL input[name='emp_id']").val(emp_id);	
				bConfirm("PT 자료를  다운로드 하시겠습니까?").done(function(s) {
					if(s) {
						$("#frmFileDL").attr("action", "/intern/selfass/fileDownloadForPT").submit();
					}
				});
			}
			
			//선택 파일 다운로드 
			function fnc_ptFileDownloadForSelected() {
				var count = $("input[name=selected_intn_idx]:checked").length;
				if(count > 0){
					bConfirm("선택된 PT 자료를 다운로드 하시겠습니까?").done(function(s) {
						if(s) {
							var intn_idxs = "";
							$("input[name=selected_intn_idx]:checked").each(function(i) { intn_idxs += $(this).val() + "_"; });
							$("#frmFileDL input[name='intn_idxs']").val(intn_idxs);
							
							var that = $(".btnDownload");
							var page_url = '/manage/intern/zipFileDownloadForPT?intn_idxs=' +$("#frmFileDL input[name='intn_idxs']").val();
							
							fnc_divDimmed3("#divPPTFileList");
							var req = new XMLHttpRequest();
							   req.open("GET", page_url, true);
							req.addEventListener("progress", function (evt) {
								if(evt.lengthComputable) {
									var percentComplete = evt.loaded / evt.total;
									$(".msg label").text( parseInt(percentComplete*100) + "%");
									if(percentComplete == 1) {
										fnc_toastMsgForNoti("다운로드가 완료되었습니다.");
										
										setTimeout(function() {
											fnc_divDimmedRemove("#divPPTFileList")
										}, 1500);
									}
								}
							}, false);
		
							req.responseType = "blob";
							req.onreadystatechange = function () {
								if (req.readyState === 4 && req.status === 200) {
									var filename = "Intern_PT.zip";
									if (typeof window.chrome !== 'undefined') {
										// Chrome version
										var link = document.createElement('a');
										link.href = window.URL.createObjectURL(req.response);
										link.download = filename;
										link.click();
									} else if (typeof window.navigator.msSaveBlob !== 'undefined') {
										// IE version
										var blob = new Blob([req.response], { type: 'application/force-download' });
										window.navigator.msSaveBlob(blob, filename);
									} else {
										// Firefox version
										var file = new File([req.response], filename, { type: 'application/force-download' });
										window.open(URL.createObjectURL(file));
									}
								}
							};
							req.send();
						}
					});
				} else {
					fnc_toastMsgForWarning("다운로드 할 파일을 선택하세요.");
				}
			}
		</script>
		
		<form name="frmFileDL" id="frmFileDL" method="post" action="">
			<input type="hidden" name="intn_idxs" value="">
			<input type="hidden" name="emp_id" value="">
		</form>
		
		<div class="panel">
			<div class="panel-body">	
				
				<div class="row">
					<div class="col-xs-6">
						<div class="dataTables_length" id="datatable_length"><!-- dataTables_length -->
							<label>
								<select name="pageSize" id="pageSize" aria-controls="datatable" class="form-control input-xsmall input-inline">
									<option value="10" selected="">10</option>
									<option value="20">20</option>
									<option value="50">50</option>
									<option value="100">100</option>
								</select>
							</label>
						</div><!-- // dataTables_length -->
					</div>
					<div class="col-xs-6 text-right">
						<button type="button" class="btn btn-lg btn-success">선택 파일 다운로드</button>
					</div>
				</div>

				<div class="table-responsive table-books margin-top-10">
					<table id="datatable" class="table table-col" cellpadding="0" cellspacing="0" summary="번호, 부서, 팀, 작성자, 파일, 등록일로 구분되는표">
						<caption>인턴평가 PT 자료 목록</caption>
						<colgroup>
							<col style="width: 5%;">
							<col style="width: 5%;">
							<col style="width: 12%;">
							<col style="width: 12%;">
							<col style="width: 12%;">
							<col style="width: 12%;">
							<col style="width: auto;">
							<col style="width: 12%;">
						</colgroup>
						<thead>
							<tr>
								<th scope="col"><input type="checkbox" id="allCheck" name="allCheck" value="Y"></th>
								<th scope="col">NO</th>
								<th scope="col">본부</th>
								<th scope="col">실</th>
								<th scope="col">팀</th>
								<th scope="col">작성자</th>
								<th scope="col">파일</th>
								<th scope="col">입사일</th>
							</tr>
						</thead>
						<tbody>
							
							
								
								
									<tr>
										<td colspan="8">데이터가 없습니다.</td>
									</tr>
								
							
							
						</tbody>
					</table>
					<!-- 
					<div class="btn-group-sm text-left" style="margin-top:-30px;">
						<button type="button" class="btn btn-primary btn-sm btnDownload">선택 파일 다운로드</button>
					</div>
					 -->
				</div>
		
				<div class="text-center">
					<!-- 페이징 영역 -->
					<ul class="pagination"><li class="active"><a>1</a></li></ul>
				</div>
			</div>
		</div></div>
			</div>
		</div>
	</section>
	<!-- // middle -->
</div>
<!-- // wrapper -->

</body>
</html>